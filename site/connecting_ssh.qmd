# Connecting to Remote HPC Systems

## ğŸ¯ Learning Outcomes
By the end of this tutorial, you will be able to:
âœ… Establish a secure SSH connection to a remote HPC system.  
âœ… Generate and manage SSH keys for passwordless authentication.  
âœ… Use an SSH agent to simplify access.  
âœ… Navigate and explore your remote home directory.  

This hands-on guide is designed for **absolute beginners** to connect to an HPC cluster and understand basic remote access principles.  

---

# ğŸ”‘ Step 1: Understanding Secure Connections  

Before connecting to an HPC system, letâ€™s understand why security is important. Unlike your personal computer, **HPC clusters are multi-user systems**. If login credentials are compromised, many users could be affected.  

To prevent unauthorized access, most HPC systems use the **Secure SHell (SSH) protocol**, which encrypts communication between your local machine and the remote system.  

## ğŸ— Step 2: Connecting to the Cluster Using SSH  

The first step is establishing an **SSH connection**. Open a **Terminal** (Linux/macOS) or **PowerShell** (Windows) and use this command:  

```sh
ssh username@hpc-cluster-address
```

ğŸ”¹ **Example:** If your username is `alice` and the cluster address is `hpc.example.edu`, you would type:  

```sh
ssh alice@hpc.example.edu
```

ğŸ”¹ **If prompted, enter your password.**  

### â“ Troubleshooting SSH Connections  

âŒ **Error: "Connection refused"**  
âœ… Ensure you are using the correct username and HPC address. Some clusters require VPN accessâ€”check with your system admin.  

âŒ **Error: "Permission denied (publickey)"**  
âœ… The system may **require SSH keys instead of passwords**. Letâ€™s set that up next!  

---

# ğŸ” Step 3: Setting Up SSH Key Authentication  

Most HPC systems **disable password logins** for security reasons and require **SSH key authentication** instead. SSH keys are a secure and convenient way to log in without entering a password each time.  

## ğŸ“Œ Generate an SSH Key Pair  

Run this command in your terminal:  

```sh
ssh-keygen -a 100 -t ed25519 -f ~/.ssh/id_ed25519
```

ğŸ”¹ When prompted for a passphrase, enter a **secure password** (or leave it empty for no password).  

ğŸ”¹ If successful, your SSH key pair is stored in:  
- **`~/.ssh/id_ed25519`** (private key) â€“ DO NOT SHARE!  
- **`~/.ssh/id_ed25519.pub`** (public key) â€“ This goes to the HPC cluster.  

ğŸ’¡ **For older systems:** If `ed25519` is unavailable, use RSA instead:  

```sh
ssh-keygen -a 100 -b 4096 -t rsa -f ~/.ssh/id_rsa
```

## ğŸ“‚ Step 4: Copy Your Public Key to the HPC Cluster  

Now, send your **public key** to the HPC system:  

```sh
scp ~/.ssh/id_ed25519.pub username@hpc-cluster-address:~/
```

Then, log into the cluster using your **password-based SSH** and install the key:  

```sh
ssh username@hpc-cluster-address
mkdir -p ~/.ssh
cat ~/id_ed25519.pub >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

Now, **logout** and try reconnecting:  

```sh
exit
ssh username@hpc-cluster-address
```

ğŸš€ **If everything is set up correctly, you should log in without entering a password!**  

---

# ğŸš€ Step 5: Using SSH Agent for Convenience  

Tired of entering your SSH key passphrase every time? Use an **SSH agent** to store it temporarily.  

ğŸ”¹ Check if the SSH agent is running:  

```sh
ssh-add -l
```

ğŸ”¹ If it says **"Could not open a connection to your authentication agent"**, start it:  

```sh
eval $(ssh-agent)
ssh-add -t 8h ~/.ssh/id_ed25519
```

ğŸ”¹ This will **store your key for 8 hours** so you donâ€™t have to re-enter the passphrase.  

---

# ğŸ“ Step 6: Exploring Your HPC Home Directory  

Once connected to the HPC system, try these basic commands to **navigate your remote directory**:  

ğŸ”¹ Check which machine youâ€™re on:  

```sh
hostname
```

ğŸ”¹ Find out your current location in the filesystem:  

```sh
pwd
```

ğŸ”¹ List files in your home directory:  

```sh
ls -a
```

You might see important system files such as:  
- `.bashrc` â€“ Shell configuration file  
- `.ssh/` â€“ Stores SSH keys  

ğŸ’¡ **Want to see disk usage?** Use:  

```sh
du -sh ~
```

---

# ğŸ‰ Wrapping Up  

Congratulations! ğŸŠ You have successfully:  
âœ… Connected to an HPC cluster via SSH.  
âœ… Set up SSH key authentication for a secure login.  
âœ… Used an SSH agent for convenience.  
âœ… Explored your remote directory and files.  

This is just the beginning! Now, youâ€™re ready to submit jobs, transfer files, and utilize **HPC resources** efficiently.  

ğŸ” **Next Steps:**  
1ï¸âƒ£ Learn how to **transfer files to and from the HPC system**.  
2ï¸âƒ£ Submit a job using **Slurm or another job scheduler**.  
3ï¸âƒ£ Customize your **shell environment (.bashrc, .zshrc)**.  

---

ğŸ’¡ **Questions?** Check your HPC systemâ€™s documentation or ask your administrator for specific details.  

ğŸš€ **Happy Computing!**  
